
\section{Contramodules over topological rings}
\label{ch2:addendum}

We ended the last section by wishing for a way to construct a well behaved category of contramodules over the $K_p(n)$-local and $T_p(n)$-local spheres, $L_\Kpn\S$ and $L_{T_p(n)}\S$. The current section is not a part of the paper \cite{aambo_2024_positselski}, but we wanted to include some progress on the above question. 

The category of contramodules over a topological ring $R$ is defined by Positselski to be the category of modules over a certain bracket-opening monad on the category of sets, determined by $R$, see \cite{positselski_2022_contramodules}. However, in nice enough situations this can be compared to other descriptions, which more easily generalize to $\infty$-categories. 

\begin{remark}
    \label{ch2:rm:contra-as-op-pro-modules}
    Let $R$ be a commutative noetherian ring, $I\subseteq R$ an ideal generated by a finite regular sequence, and assume that $R$ is $I$-adically complete. In this situation there is an equivalence between the category of contramodules over $R$, where $R$ is treated with the $I$-adic topology, and $I$-complete $R$-modules in the sense of \cref{ch2:ssec:derived-completion}. Similarly, there is an equivalence between discrete $R$-modules and $I$-torsion $R$-modules, and a further equivalence between discrete $R$-modules and the opposite category of pro-finite $R$-modules via Pontryagin duality. To summarize we have  
    \[\Contra_R \simeq \Mod_R\Icomp \not\simeq \Mod_R\Itors\simeq \Pro\Mod_R\op\]
    where we have highlighted that the complete and torsion objects are not equivalent as abelian categories. However, by local duality this issue is fixed when passing to the associated derived categories, as described in the previous section. Similarly, it is fixed by using ring spectra rather than discrete rings. This gives a heuristic definition in the context of $\infty$-categories: contramodules over a ``topological algebra'' $R$, are ``pro-finite modules over $R$'', and maps are reversed module morphisms.  
\end{remark}

Let us make this heuristic more precise. For the rest of this section we let $\C$ be a symmetric monoidal stable $\infty$-category, compactly generated by dualizable objects. In particular, there are symmetric monoidal equivalences \index{Compactly generated}
\[\C \simeq \Ind(\C^\omega) \simeq \Ind(\C\dual).\]
For any essentially small idempotent complete $\infty$-category, there is a well behaved category of pro-objects associated to it. We will just focus on $\C\dual$ in the following constructions. 

\begin{construction}
    \index{Pro-object}
    By \cite[A.8.1.1]{lurie_SAG} and \cite[2.5]{kerz-saito-tamme_2019} there is a stable $\infty$-category $\Pro(\C\dual)$, called the category of \emph{pro-objects} in $\C\dual$, defined to be the full subcategory of $\Fun(\C\dual, \Spaces)\op$ consisting of the accessible finite-colimit preserving functors. By \cite[A.8.1.2]{lurie_SAG} this satisfies $\Pro(\C\dual) \simeq \Ind(\C^{\mathrm{dual}, \mathrm{op}})\op$. 
\end{construction}

There is by \cite[A.8.1.3]{lurie_SAG} a fully faithful Yoneda embedding 
\[c\: \C\dual \to \Pro(\C\dual)\] 
given by taking corepresentables, which by \cite[A.8.1.5]{lurie_SAG} allows us to think about any pro-object $X \in \Pro(\C\dual)$ as a filtered limit of objects in the image of $c$. Hence, following \cite{kerz-saito-tamme_2019} in notation we denote pro-objects as $\prolim X_j$, for $X_j \in \C\dual$. There is a partially defined adjoint $M$, given by taking the limit of $\prolim X_j$. 

\begin{remark}
    It is also common in the literature to denote a pro-object by $\{X_j\}$. We chose the above ``limit'' notation to make the relationship to ind-systems more transparent. In particular, we will denote an ind-object by $\indcolim X_j$. We will sometimes refer to pro-objects as \emph{pro-towers}, and ind-objects as \emph{ind-systems}.  
\end{remark}

When $\C$ is symmetric monoidal, then $\Pro(\C\dual)$ inherits a symmetric monoidal structure commuting with arbitrary cofiltered limits in each variable. Hence, it makes sense to discuss algebras in $\Pro(\C\dual)$. 

\begin{definition}
    \index{Commutative algebra!Pro-dualizable}
    A commutative algebra $R\in \CAlg(\C)$ is said to be \emph{pro-dualizable}, if there is a commutative algebra $\prolim R_j \in \CAlg(\Pro(\C\dual))$ such that $R\simeq \lim_j R_j$ as commutative algebras.  
\end{definition}

\begin{definition}
    \index{Contramodule}
    Given a pro-dualizable algebra $R \simeq \lim_j R_j$, we define the category of contramodules over $R$ to be the category opposite to modules over its pro-dualizable presentation $\prolim R_j$. In other words, 
    \[\Contra_R := \Mod_{\prolim R_j}(\Pro(\C\dual))\op.\]
\end{definition}

\begin{remark}
    These definitions make sense more generally as well---we do not need the dualizable objects to generate $\C$. But, the examples we are interested in will have this feature, and we will not attempt to introduce the most general possible framework here. 
\end{remark}



\subsection{Dualities}

For any algebra $A\in \CAlg(\C)$ we have a lax monoidal functor $\iHom(A,-)$, adjoint to $A\otimes(-)\: \C\to \C$. Fixing the other input defines another functor $\iHom(-,A)$, which induces a functor 
\[\iHom(-,A)\: \cCAlg(\C)\op \to \CAlg(\C)\]
as it sends coalgebras to algebras. Choosing $A=\1_\C$ defines a functor 
\[(-)^\vee:=\iHom(-,\1_\C)\: \cCAlg(\C)\op\to \CAlg(\C)\] 
which we call the \emph{linear dual}\index{Linear dual}. Colimits of coalgebras, as well as limits of algebras are computed underlying, hence the functor $(-)^\vee$ sends colimits to limits. In particular we get a right adjoint $(-)^\circ$ by the adjoint functor theorem: 
\begin{center}
    \begin{tikzcd}
        \cCAlg(\C)\op \arrow[r, yshift=2pt, "(-)^\vee"] & \CAlg(\C) \arrow[l, yshift=-2pt,"(-)^\circ"]
    \end{tikzcd}
\end{center}

The right adjoint functor is in general rather opaque, but on dualizable algebras we have a better understanding. 

\begin{lemma}
    \label{ch2:lm:florian-dual}
    There is an equivalence $\cCAlg(\C\dual)\op\simeq \CAlg(\C\dual)$, given on objects by $(-)^\vee$. In particular, if $C$ is a dualizable coalgebra, then $(C^\vee)^\circ \simeq C$.  
\end{lemma}
\begin{proof}
    The former claim is \cite[3.2.5]{lurie_2018_ELL1}, while the latter is {\cite[2.16]{riedel_2024}}. 
\end{proof}

\begin{remark}
    \label{rm:dualizable-iff-underlying}
    \index{Dualizable object}
    The forgetful functor $U\:\cCAlg(\C)\to\C$ is symmetric monoidal, and hence preserves dualizable objects. Hence, any coalgebra $C\in \cCAlg(\C)$ is dualizable if and only if it is dualizable as an object in $\C$. In particular we get an equivalence $\cCAlg(\C)\dual\simeq \cCAlg(\C\dual)$. Note that, even in the setting where $\C$ is rigidly compactly generated, a dualizable coalgebra is usually not compact as an object in $\cCAlg(\C)$ itself, see for example \cite[1.2.15]{lurie_2018_ELL2}. 
\end{remark}

We now extend \cref{ch2:lm:florian-dual} to the full category $\C$, via utilizing that it is generated by dualizable objects. 

\begin{lemma}
    \label{ch2:lm:sweedler-duality}
    \index{Cocommutative coalgebra}
    The duality functor $(-)^\vee = \iHom_\C(-,\1_\C)$ gives an equivalence 
    \[\cCAlg(\C)\op\simeq \CAlg(\Pro(\C\dual)),\]
    between cocommutative coalgebras and pro-dualizable algebras.
\end{lemma}
\begin{proof}
    The symmetric monoidal equivalence $\C\simeq \Ind(\C\dual)$ induces an equivalence 
    \[\cCAlg(\C) \simeq \cCAlg(\Ind(\C\dual))\]
    on coalgebras. By \cite[3.2.4]{lurie_2018_ELL1} we get an equivalence 
    \[\cCAlg(\Ind(\C\dual))\simeq \cCAlg(\Ind(\C^{\mathrm{dual}, \mathrm{op}})),\]
    which, via the equivalence $\Ind(\D\op)\simeq \Pro(\D)\op$ for any small category with finite limits, gives 
    \[\cCAlg(\Ind(\C^{\mathrm{dual}, \mathrm{op}}))\simeq \cCAlg(\Pro(\C\dual)\op).\]
    By definition we have 
    \[\cCAlg(\Pro(\C\dual)\op)\simeq \CAlg(\Pro(\C\dual))\op,\]
    which, upon putting the above equivalences together gives exactly 
    \[\cCAlg(\C)\op\simeq \CAlg(\Pro(\C\dual)),\]
    as wanted. 
\end{proof}

\begin{remark}
    This is the $\infty$-categorical version of the analog statement in vector spaces over fields: there is always a dual of a coalgebra in $\Vect_k$, but a general algebra only dualizes to a coalgebra if it has a pro-topology. This is because any $k$-coalgebra can be filtered by its finite-dimensional sub-$k$-coalgebras. 
\end{remark}

\begin{remark}
    \label{ch2:rm:coalebra-in-Ind}
    Analyzing the definitions one can see that the linear dual $(-)^\vee$ sends a coalgebra $C$ presented by an ind-system $\indcolim C_j$ to the algebra $C^\vee$ presented by the pro-tower $\prolim C_j^\vee$. The inverse to $(-)^\vee$ is given by applying $(-)^\vee$ point-wise to the dualizable objects in the pro-tower, and taking the limit in the opposite category, i.e. the colimit in $\C$. 
\end{remark}

The goal is to recover more global information about general objects in $\C$, not just algebras and coalgebras. In order to do this we utilize a duality between stabilization and costabilization of $\infty$-categories. 

\begin{definition}
    \index{Stabilization}
    \index{Costabilization}
    Let $\mathcal{E}$ be an $\infty$-category. The \emph{stabilization} of $\mathcal{E}$, denoted $\Sp(\mathcal{E})$, is defined to be the stable $\infty$-category 
    \[\Sp(\mathcal{E}) = \colim (\cdots\overset{\Omega}\to\mathcal{E}\overset{\Omega}\to\mathcal{E}\overset{\Omega}\to\mathcal{E}).\] 
    Its \emph{costabilization} is defined by $\coSp(\mathcal{E}):= \Sp(\mathcal{E}\op)\op$. 
\end{definition}

The costabilizaton is always a stable $\infty$-category, as the opposite of a stable category is still stable. However, the costabilization of a non-zero category $\mathcal{E}$ might be zero, as is the case for $\Spaces_*$---the category of pointed spaces. 

\begin{proposition}
    \label{ch2:prop:comodules-and-promodules}
    \index{Comonad!Comodule}
    For any cocommutative coalgebra $C\in \cCAlg(\C)$ there is an equivalence 
    \[\Comod_C(\C)\op\simeq \Mod_{C^\vee}(\Pro(\C\dual)).\]  
\end{proposition}
\begin{proof}
    The equivalence from \cref{ch2:lm:sweedler-duality} induces an equivalence of slice categories 
    \[(\cCAlg(\C))_{/C}\op \simeq \CAlg(\Pro(\C\dual))_{/C^\vee},\]
    see \cite[5.2.5.1]{lurie_09}. The slice category over $C$ of the opposite category is equivalent to the opposite category of the coslice category over $C$, giving 
    \[(\cCAlg(\C)\op)_{/C} \simeq \cCAlg(\C)\op_{C/}.\]
    Taking spectrum objects on both sides induces an equivalence
    \[\Sp(\cCAlg(\C)_{C/}\op)\simeq \Sp(\CAlg(\Pro(\C\dual))_{/C^\vee})\]
    The left hand side is by definition equivalent to the opposite category of cospectrum objects:
    \[\Sp(\cCAlg(\C)_{C/}\op)\simeq \coSp(\cCAlg(\C)_{C/})\op,\]
    which together gives an equivalence
    \[\coSp(\cCAlg(\C)_{C/})\op \simeq \Sp(\CAlg(\Pro(\C\dual))_{/C^\vee}).\]
    The left hand side is equivalent to $\Comod_C(\C)\op$ by \cite[1.0.3]{chen_2024}, while the right hand side is equivalent to $\Mod_{C^\vee}(\Pro(\C\dual))$ by \cite[7.3.4.13]{Lurie_HA}, which finishes the proof.  
\end{proof}

\begin{remark}
    This should be viewed as an $\infty$-categorical analog of the anti-equivalence between comodules over a cocommutative coalgebra $C\in \Vect_k$ and the category of linearly compact modules over $C^\vee$, see \cite[II.29]{lefschetz_1942}. 
\end{remark}

\begin{corollary}
    There is an equivalence $\Comod_C \simeq \Contra_{C^\vee}$. 
\end{corollary}


\subsection{Monochromatic contramodules}

Let us now turn our attention to the setting of chromatic homotopy theory. As $M\np\S$ is a cocommutative coalgebra we know that its dual $M\np\S^\vee$ is a commutative ring spectrum in $\Sp\np$. By \cite[2.21(4)]{barthel-heard-valenzuela_2018}, or \cref{ch2:thm:local-duality-co-contra}, the $K_p(n)$-localization functor---treated as an endofunctor on $\Sp\np$---is equivalent to $\iHom(M\np\S,-)$. Applied to the $E\np$-local sphere $L\np\S$ this is exactly the dual of $M\np\S$:
\[M\np \S^\vee \simeq \iHom(M\np\S, L\np\S)\simeq L_\Kpn L\np\S \simeq L_\Kpn\S.\]
Note that, as an endofunctor on $\Sp\np$, the $K_p(n)$-localization functor is not symmetric monoidal\index{Localization}. But, as the inclusion $\Sp_\Kpn\hookrightarrow \Sp\np$ is lax symmetric monoidal it sends algebras to algebras, which in particular means that $L_\Kpn\S$ is also a commutative ring spectrum in $\Sp\np$. We want to more properly understand the pro-dualizable structure that arises by the above equivalences, and tie it to previous such constructions. 

\begin{construction}
    Let $X$ be any spectrum. By \cite[4.22, 7.10(e)]{hovey-strickland_99} there is a tower of generalized Moore spectra 
    \[\cdots \to F_2 \to F_1 \to F_0\]
    such that $L_\Kpn X \simeq \lim_j (L\np X \otimes F_j)$. These are usually denoted by $M_j$, but in order to try to keep these separate from the monochromatic notation we have chosen to instead use $F_j$. In particular, any $K_p(n)$-local spectrum\index{Spectra!$K_p(n)$-local} is a pro-spectrum indexed by the generalized Moore tower. Now, consider the pro-tower $\prolim (L\np X \otimes F_j)$ for $X=\S$. As $E\np$-localization is smashing, there is an equivalence 
    \[\prolim (L\np \S \otimes F_j)\simeq \prolim L\np F_j.\]
\end{construction}

\begin{lemma}
    \label{ch2:lm:Moore-tower-in-local-dualizable}
    \index{Commutative algebra!Pro-dualizable}
    The object $\prolim L\np F_j$ is a commutative algebra in $\Pro(\Sp\np\dual)$. 
\end{lemma}
\begin{proof}
    By \cite[6.3]{davis-lawson_2014} the Moore tower $\prolim F_j$ is a commutative algebra in $\Pro(\Sp)$. As each generalized Moore spectrum is a finite spectrum it is dualizable, and as $E\np$-localization is symmetric monoidal it preserves dualizable objects. Hence, the tower $\prolim L\np F_j$ is a commutative algebra in $\Pro(\Sp\np\dual)$. 
\end{proof}

\begin{lemma}
    \label{ch2:lm:coalgebra-ind-presentation-of-monochromatic-sphere}
    \index{Cocommutative coalgebra}
    The ind-system $\indcolim L\np F_j^\vee$ dual to the pro-tower $\prolim L\np F_j$ is an cocommutative coalgebra in $\Ind(\Sp\np\dual)$, and taking the colimit gives an equivalence 
    \[\colim_j L\np F_j^\vee \simeq M\np\S\] 
    of cocommutative coalgebras in $\Sp\np$. 
\end{lemma}
\begin{proof}
    By incorporating the multiplicative structure on Moore spectra constructed by Burklund in \cite{burklund_2022}, Li--Zhang prove in \cite[2.1.4]{li-zhang_2023} that we can choose the pro-tower in such a way that each $F_j$ is an $\E_j$-$F_k$-algebra for any $2\geq j \geq k$. In particular, it is an $\E_j$-ring spectrum in $\Sp\np\dual$. This implies that the similar statement holds for the localized pro-tower $\prolim L\np F_j$. In particular, $L\np F_j \in \Alg_{\E_j}(\Sp\np\dual)$. 
    
    By an $\E_j$-operadic version of the equivalence $\cCAlg(\C\dual)\op\simeq \CAlg(\C\dual)$---see \cite[3.5]{peroux_2022}---the dual of each generalized Moore spectrum $F_j$ is an $\E_j$-coalgebra in $\Sp\np\dual$. Hence, the pro-tower $\prolim L\np M_j$ gets sent to an ind-system $\indcolim L_n F_j^\vee$ in $\Sp\np\dual$ under the linear dual functor. By \cite[7.10(c)]{hovey-strickland_99} this ind-system is a presentation of $M\np\S$, as there is an equivalence 
    \[M\np \S \simeq \colim_j F_j^\vee \otimes L\np\S \simeq \colim_j L\np F_j^\vee.\]
    Hence it remains to show that $\indcolim L\np F_j^\vee$ is a cocommutative coalgebra in $\Ind(\Sp\np\dual)$ and that the equivalence above is an equivalence of cocommutative coalgebras. 

    By \cref{ch2:lm:Moore-tower-in-local-dualizable} the pro-tower $\prolim L\np F_j$ is a commutative algebra in $\Pro(\Sp\np\dual)$, hence \cref{ch2:rm:coalebra-in-Ind} implies that the linear dual, which is $\indcolim L\np F_j^\vee$, is a cocommutative coalgebra in $\Ind(\Sp\np\dual)$. As the equivalence $\Ind(\Sp\np\dual)\simeq \Sp\np$ is symmetric monoidal, and is given by taking the colimit of the ind-systems, the equivalence $\colim_j L\np F_j^\vee \simeq M\np \S$ is an equivalence of cocommutative coalgebras.  
\end{proof}

\begin{remark}
    Li--Zhang also proved in \cite[2.1.5]{li-zhang_2023} that there is an equivalence $L_\Kpn\S \simeq \lim_j L\np F_j$ of $\Kpn$-local commutative ring spectra. As the inclusion $\SpKpn\hookrightarrow \Sp\np$ is lax symmetric monoidal, these are also equivalent as $E\np$-local ring spectra, which is where our story takes place. Alternatively one can see this more directly using \cite[2.1.6]{li-zhang_2023}. 
\end{remark}

We can now summarize the discussion above as follows. The monochromatic sphere $M\np\S$ is a cocommutative coalgebra in $\Sp\np$. It is presented by the ind-system $\indcolim L\np F_j^\vee$, which is a cocommutative coalgebra in $\Ind(\Sp\np\dual)$. The linear dual is a pro-tower $\prolim L\np F_j$ which is a commutative algebra in $\Pro(\Sp\np\dual)$. Its materialization is the $\Kpn$-local sphere as a commutative algebra in $\Sp\np$. 

This allows us to conclude with our wanted description of the category of $K_p(n)$-local spectra. 

\begin{theorem}
    \label{ch2:thm:Kn-is-pro-modules}
    \index{Contramodule}
    \index{Spectra!$K_p(n)$-local}
    There is a symmetric monoidal equivalence 
    \[\SpKpn \simeq \Mod_{\prolim L\np F_j}(\Pro(\Sp\np\dual))\op\]
    between $\Kpn$-local spectra and modules over the pro-dualizable algebra $\prolim L\np F_j$ presenting the $\Kpn$-local sphere $L_\Kpn\S$. 
\end{theorem}
\begin{proof}
    \cref{ch2:prop:comodules-and-promodules} gives an equivalence between the category of comodules over the monochromatic sphere, $\Comod_{M\np \S}(\Sp\np)$, and modules over its linear dual. By choosing the ind-presentation of $M\np \S$ constructed in \cref{ch2:lm:coalgebra-ind-presentation-of-monochromatic-sphere}, the linear dual is precisely the pro-tower $\prolim L\np F_j$, which is a commutative algebra in $\Pro(\Sp\np\dual)$. Hence we have a symmetric monoidal equivalence 
    \[\Comod_{M\np\S}(\Sp\np)\simeq \Mod_{\prolim L\np F_j}(\Pro(\Sp\np\dual))\op.\]
    By \cref{ch2:thm:dual-monoidal-BB} there is an equivalence $\Comod_{M\np\S}(\Sp\np)\simeq \M\np$ of symmetric monoidal stable $\infty$-categories. Similarly, by \cite[6.19]{hovey-strickland_99} there is a symmetric monoidal equivalence $\M\np \simeq \SpKpn$. 
\end{proof}

\begin{remark}
    By definition this implies that we have a description of $\Kpn$-local spectra as contramodules over the $\Kpn$-local sphere, $\SpKpn \simeq \Contra_{L_\Kpn\S}$. This might seem ad-hoc, but we feel that this is justifiable by \cref{ch2:rm:contra-as-op-pro-modules}.
\end{remark}

\begin{remark}
    By \cite[2.2.1, 2.2.7]{li-zhang_2023} there is a symmetric monoidal equivalence 
    \[\Sp_\Kpn \simeq \lim_j \Mod_{L\np F_j}(\Sp\np).\]
    Combining this with the equivalence from \cref{ch2:thm:Kn-is-pro-modules} we have 
    \[\lim_j \Mod_{L\np F_j}(\Sp\np) \simeq \Mod_{\prolim L\np F_j}(\Pro(\Sp\np\dual))\op,\]
    which can be interpreted as ``pro-commuting'' the limit, and correcting the directions of the morphisms due to the fact that $\Sp\np\simeq \Ind(\Sp\np\dual) \simeq \Pro(\Sp\np\dual)\op$. 
\end{remark}

\begin{remark}
    The story here told for $\Sp\np$ works more generally for any local duality context, and for any Positselski-duality in the sense of \cref{ch2:thm:Positselski-duality-coidempotent}. For a general local duality context $(\C, \K)$, this gives the following visually beautiful depiction of the associated local duality diagram:
    \begin{center}
    \begin{tikzcd}
        & 
        \Mod_{L_\K\1_\C} 
        \arrow[d, xshift=-2pt] 
        \arrow[rdd, dotted, bend left] 
        & \\
        & 
        \C \arrow[u, xshift=2pt] 
        \arrow[ld, yshift=-2pt, xshift=1pt] 
        \arrow[rd, yshift=2pt, xshift=1pt]                  
        & \\
        \Comod_{\Gamma_\K\1_\C} 
        \arrow[ru, yshift=2pt, xshift=-1pt] 
        \arrow[rr, yshift=2pt, "\simeq"] 
        \arrow[ruu, dotted, bend left] 
        &                                                     
        & \Contra_{\Lambda_\K\1_\C} 
        \arrow[lu, yshift=-2pt, xshift=-1pt] 
        \arrow[ll, yshift=-2pt]
    \end{tikzcd}
    \end{center}
\end{remark}

\begin{remark}
    \index{Spectra!$T_p(n)$-local}
    There is a similar pro-dualizable presentation of the $T_p(n)$-local sphere $L_{T_p(n)}\S$, giving rise to an equivalence
    \[\Sp_{T_p(n)}\simeq \Contra_{L_{T_p(n)}\S}(\Sp\np^f).\]
    The failure of the telescope conjecture, see \cite{burklund-hahn-levy-schlank_23}, then implies that the two pro-dualizable ring spectra $L_{K_p(n)}\S$ and $L_{T_p(n)}\S$ are not pro-Morita equivalent.  
\end{remark}

