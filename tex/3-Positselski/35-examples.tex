

\subsection{Local duality}
\label{ch2:ssec:local-duality}

Our main interest for constructing an $\infty$-categorical version of Positselski duality is related to local duality, in the sense of \cite{hovey-palmiery-strickland_97} and \cite{barthel-heard-valenzuela_2018}. In this section we use \cref{ch2:thm:Positselski-duality-idempotent} to to construct an alternative proof of \cite[2.21]{barthel-heard-valenzuela_2018}. We first recall the construction of local duality---see also \cref{ch0:ssec:local-duality} for more details. 

Let $(\C, \otimes, \1)$ be a presentably symmetric monoidal $\infty$-category. The tensor product $\otimes$ preserves filtered colimits separately in each variable, which by the adjoint functor theorem (\cite[5.5.2.9]{lurie_09}) means that the functor $X\otimes (-)$ has a right adjoint $\iHom(X, -)$, making $\C$ a closed symmetric monoidal category. From this internal hom-object we get a functor 
\[(-)^\vee = \iHom(-, \1)\: \C\op \to \C,\] 
which we call \emph{the linear dual}. 

\begin{definition}
    \index{Compact object}
    \index{Dualizable object}
    An object $X\in \C$ is \emph{compact} if the functor $\Hom(X, -)$ preserves filtered colimits, and it is \emph{dualizable} if the natural map $X^\vee \otimes Y \to \Hom(X,Y)$ is an equivalence for all $Y\in \C$. 
\end{definition}

The category $\C$ is said to be \emph{rigidly compactly generated}\index{Compactly generated!Rigid} if it is compactly generated by dualizable objects, and the unit $\1$ is compact. In this situation, the collection of compact objects is also the collection of dualizable objects. 

\begin{definition}
    \index{Local duality!Context}
    A \emph{local duality context} is a pair $(\C, \K)$, where $\C$ is a rigidly compactly generated symmetric monoidal stable $\infty$-category and $\K\subseteq \C$ is a set of compact objects. 
\end{definition}

\begin{construction}
    \index{Local duality!Torsion objects}
    \index{Local duality!Local objects}
    \index{Local duality!Complete objects}
    \index{Right orthogonal complement}
    Let $(\C, \K)$ be a local duality context. We denote the localizing ideal generated by $\K$ by $\C^{\K-tors} = \Loc_\C^\otimes(\K)$. The \emph{right orthogonal complement} of $\C^{\K-tors}$, in other words those objects $Y\in \C$ such that $\Hom(X, Y) \simeq 0$ for all $X\in \C^{\K-tors}$ is denoted by $\C^{\K-loc}$. By \cite[2.17]{barthel-heard-valenzuela_2018} this category is also a compactly generated localizing subcategory of $\C$. Lastly, we define the category $\C^{\K-comp}$ to be the right orthogonal complement to $\C^{\K-loc}$. 

    The fully faithful inclusion $i_{\K-tors}\:\C^{\K-tors}\hookrightarrow \C$ has a right adjoint $\Gamma \:\C\to \C^{\K-tors}$, This means, in particular, that $\Gamma$ is a colocalization. The fully faithful inclusions $i_{\K-loc}\:\C^{\K-loc}\hookrightarrow \C$ and $i_{\K-comp}\:\C^{\K-comp}\hookrightarrow \C$ both have left adjoints $L\: \C\to \C^{\K-loc}$ and $\Lambda\:\C\to \C^{\K-comp}$ respectively, making them localizations. 
\end{construction}

\begin{remark}
    Note that in the paper \cite{barthel-heard-valenzuela_2018} referenced above, they use the term \emph{left orthogonal complement} instead of right. Both of these are used throughout the literature, but we decided on using \emph{right}, as it felt more natural to the author. 
\end{remark}

\begin{theorem}
    \label{ch2:thm:local-duality-co-contra}
    \index{Local duality!Theorem}
    For any local duality context $(\C, \K)$, 
    \begin{enumerate}
        \item the functor $L$ is a smashing localization,
        \item the functor $\Gamma$ is a smashing colocalization,
        \item the functors $\Lambda\circ i_{\K-tors}$ and $\Gamma \circ i_{\K-comp}$ are mutually inverse equivalences, and 
        \item the functors $(\Gamma, \Lambda)$, viewed as endofunctors on $\C$ form an adjoint pair. 
    \end{enumerate} 
    In particular, there are equivalences
    \[\C^{\K-tors}\simeq \Comod_{\Gamma \1}(\C)\simeq \Contra_{\Gamma \1}(\C) \simeq \C^{\K-comp}\]
    of symmetric monoidal stable $\infty$-categories. 
\end{theorem}

\begin{remark}
    The result will essentially follow from recognizing $(\Gamma, \Lambda)$, viewed as endofunctors on $\C$ as the adjoint comonad-monad pair $C\otimes (-)\dashv \iHom(C,-)$ for a certain idempotent $\E_\infty$-coalgebra $C$, and then applying \cref{ch2:thm:Positselski-duality-idempotent}. 
\end{remark}

\begin{proof}
    By \cite[3.3.3]{hovey-palmiery-strickland_97} the functor $L$ is smashing, as it is a finite localization away from $\K$. By construction the functor $\Gamma$ is determined by the kernel of the localization $X\to LX$, hence is also smashing. The functor $L$ has a fully faithful right adjoint, hence is a localization --- similarly for $\Gamma$. 

    As $\Gamma$ is smashing it is given by $\Gamma X \simeq \Gamma \1 \otimes X$, and as $\C^{\K-tors}$ is an ideal, it inherits a symmetric monoidal structure from $\C$, making $\Gamma$ a symmetric monoidal functor. In particular, the object $\Gamma \1$ is the unit in $\C^{\K-tors}$. The unit in a compactly generated symmetric monoidal stable $\infty$-category is both an $\E_\infty$-algebra and an $\E_\infty$-coalgebra. The inclusion $i_{\K-tors}\: \C^{\K-tors}\hookrightarrow \C$ is op-lax monoidal, as it is the left adjoint of a symmetric monoidal functor, meaning that it preserves coalgebras. In particular, $\Gamma\1$ treated as an object in $\C$ is a cocommutative coalgebra. Since $\Gamma$ is a smashing colocalization $\Gamma \1$ is an idempotent coalgebra. 

    By \cref{ch2:thm:Positselski-duality-idempotent} we then get an equivalence of categories 
    \[\Comod_{\Gamma \1}(\C) \simeq \Contra_{\Gamma \1}(\C)\]
    given by the mutually inverse equivalences 
    \[\iHom(\Gamma \1,-)\: \Comod_{\Gamma\1}(\C) \to \Contra_{\Gamma \1}(\C)\] 
    and 
    \[\Gamma \1\otimes -\: \Contra_{\Gamma\1}(\C) \to \Comod_{\Gamma \1}(\C).\]
    By \cref{ch2:thm:dual-monoidal-BB} there is an equivalence $\C^{\K-tors}\simeq \Comod_{\Gamma\1}(\C)$, so it remains to show that $\C^{\K-comp}\simeq \Contra_{\Gamma \1}(\C)$. This follows from \cite[2.2]{barthel-heard-valenzuela_2018}, just as in the proof of \cite[2.21(4)]{barthel-heard-valenzuela_2018}, as it gives a sequence of equivalences 
    \[\iHom(\Gamma X, Y) \simeq \iHom(\Lambda X, \Lambda Y)\simeq \iHom(X, \Lambda Y)\]
    which reduces to $\iHom(\Gamma \1, Y) \simeq \Lambda Y$ when applied to $X=\1$. 
\end{proof}

\begin{remark}
    \label{ch2:rm:contramodular-BB}
    The author feels that the equivalence 
    \[\C^{\K-comp}\simeq \Contra_{\Gamma\1}\] 
    should be a formal consequence of a ``contramodular'' Barr--Beck theorem, but such a result has so far escaped our grasp. 
\end{remark}

\begin{remark}
    If the more general version of Positselski duality from \cref{ch2:rm:holds-generally-for-separable} holds, one could be able to generalize local duality to slightly more exotic situations, where the functors are not localizations. 
\end{remark}

The motivation for proving local duality in this setup was to have the following visually beautiful description of local duality. 

\begin{center}
    \begin{tikzcd}
        & 
        \Mod_{L\1} 
        \arrow[d, xshift=-2pt] 
        \arrow[rdd, dotted, bend left] 
        & \\
        & 
        \C \arrow[u, xshift=2pt] 
        \arrow[ld, yshift=-2pt, xshift=1pt] 
        \arrow[rd, yshift=2pt, xshift=1pt]                  
        & \\
        \Comod_{\Gamma \1} 
        \arrow[ru, yshift=2pt, xshift=-1pt] 
        \arrow[rr, yshift=2pt, "\simeq"] 
        \arrow[ruu, dotted, bend left] 
        &                                                     
        & \Contra_{\Gamma\1} 
        \arrow[lu, yshift=-2pt, xshift=-1pt] 
        \arrow[ll, yshift=-2pt]
    \end{tikzcd}
\end{center}

Here the dotted arrows correspond to taking the right-orthogonal complement. 

\begin{remark}
    \label{ch2:rm:contramodule-over-pro-ring}
    A visual, and intuitional, problem with the above picture is that the contramodule category is dependent on the coalgebra $\Gamma\1$ and not on its unit $\Lambda \1$. In the abelian situation, there is a notion of contramodule over a topological ring which would perfectly fix this issue, as one can show that $\Lambda \1$ is always an ``adic'' commutative algebra. We plan to explore this connection in future work. The above comment in \cref{ch2:rm:contramodular-BB} on a Barr--Beck result for contramodules might then be more easily accessible in this case, as one does not have to construct the unit in a dual but equal category. It might also be possible directly by using Positselski's notion of a \emph{dedualizing complex}, see \cite{positselski_2016}. 
\end{remark}

\begin{remark}
    In local duality there is another functor, that we did not really consider here, which is the right adjoint to the inclusion $\C^{\K-loc}\hookrightarrow \C$. This functor is given by $V = \iHom(L\1, -)$. As discussed in \cref{ch2:ex:algebra-module-monad} it is a comonadic functor, and its category of comodules is equivalent to $\Mod_{L\1}$. We can think of the objects in $\Comod_{\iHom(L\1,-)}$ as ``co-contramodules''. Adding these to the picture gives 
    \begin{center}
        \begin{tikzcd}
            \Mod_{L\1} 
            \arrow[rd, yshift=-2pt, xshift=-1pt] 
            \arrow[rr, "\simeq"] 
            && 
            \Cocontra_{L\1} 
            \arrow[ld, yshift=2pt, xshift=-1pt] 
            \arrow[dd, dotted] 
            \\
            & 
            \C 
            \arrow[lu, yshift=2pt, xshift=1pt]
            \arrow[ru, yshift=-2pt, xshift=1pt] 
            \arrow[ld, yshift=-2pt, xshift=1pt] 
            \arrow[rd, yshift=2pt, xshift=1pt]   
            &
            \\
            \Comod_{\Gamma \1} 
            \arrow[ru, yshift=2pt, xshift=-1pt] 
            \arrow[rr, "\simeq"]
            \arrow[uu, dotted] 
            && 
            \Contra_{\Gamma\1} 
            \arrow[lu, yshift=-2pt, xshift=-1pt]                
            \end{tikzcd}
    \end{center}
    which also makes this story enticingly connected to $4$-periodic semi-orthogonal decompositions and spherical adjunctions --- see \cite[Section 2.5]{dyckerhoff-kaparanov-schechtman-soibelman_2024}. 
\end{remark}



\subsection{Examples}

Our main interest in \cref{ch2:thm:local-duality-co-contra} is related to chromatic homotopy theory and derived completion of rings. We will not present comprehensive introductions to these topics here, hence the interested reader is referred to \cite{barthel-beaudry_19} for details on the former and \cite{barthel-heard-valenzuela_2020} for the latter.

\subsubsection*{Chromatic homotopy theory}

The category of spectra, $\Sp$, is the initial presentably symmetric monoidal stable $\infty$-category. Fixing a prime $p$, one can describe chromatic homotopy theory as the study of $p$-local spectra together with a \emph{chromatic filtration}, coming from the height filtration of formal groups. In such a filtration there is a filtration component corresponding to each natural number $n$, which we will refer to as the $n$-th component. There are, at least, two different chromatic filtrations on $\Sp$, and their conjectural equivalence was recently disproven in \cite{burklund-hahn-levy-schlank_23}. For simplicity we will distinguish these two by referring to them as the \emph{compact filtration} and the \emph{finite filtration}. This latter is a bit misleading, as it is not a finite filtration --- the word finite corresponds to a certain finite spectrum. The $n$-th filtration component in the compact filtration is controlled by the Morava $K$-theory spectrum $K(n)$, and the $n$-th filtration component in the finite filtration is controlled by the telescope spectrum $T(n)$. 

We denote the $n$-th component of the compact filtration by $\Sp_n$\index{$E_n$-local spectra} and the $n$-th component of the finite filtration by $\Sp_n^f$. The different components are related by smashing localization functors $L_{n-1}\:\Sp_n \to \Sp_{n-1}$ and $L_n^f\: \Sp_n^f \to \Sp_{n-1}^f$ respectively. 

In the light of local duality, the category $\Sp_{n-1}$ is the category of local objects in $\Sp_n$ for a compact object $L_nF(n) \in \Sp_n$\index{Type $n$ spectrum}. The torsion objects with respect to $L_nF(n)$ is the category of \emph{monochromatic spectra}\index{Monochromatic spectrum}, denoted $\Mn$ and the category of complete objects are the $K(n)$-local spectra, $\SpKn$\index{$K(n)$-local spectra}. For more details on monochromatic and $K(n)$-local spectra, see \cite{hovey-strickland_99}, and for the relationship to local duality, see \cite[Section 6.2]{barthel-heard-valenzuela_2018}. 

\begin{proposition}
    For any non-negative integer $n$, there are symmetric monoidal equivalences $\Mn \simeq \Comod_{M_n\S}(\Sp_n)$ and $\SpKn\simeq \Contra_{M_n\S}(\Sp_n)$.
\end{proposition}
\begin{proof}
    This follows directly from \cref{ch2:thm:local-duality-co-contra}, as $L_n F(n)$ is compact in $\Sp_n$, making the pair $(\Sp_n, \{L_nF(n)\})$ a local duality context. 
\end{proof}

We also have a similar description of the objects coming from the finite chromatic filtration. 

\begin{proposition}
    For any non-negative integer $n$, there are symmetric monoidal equivalences $\Mn^f \simeq \Comod_{M^f_n\S}(\Sp^f_n)$ and $\Sp_{T(n)}\simeq \Contra_{M^f_n\S}(\Sp^f_n)$.
\end{proposition}
\begin{proof}
    As the functor $M_n^f\: \Sp_n^f \to \M_n^f$ is a smashing colocalization, \cref{ch2:thm:dual-monoidal-BB} gives an equivalence $\M_n^f \simeq \Comod_{M_n^f \S}(\Sp_n^f)$. As there is an equivalence $\M_n^f \simeq \Sp_{T(n)}$ the claim of the result is then a formal consequence of \cref{ch2:thm:Positselski-duality-idempotent}.
\end{proof}

\begin{remark}
    In light of \cref{ch2:rm:contramodule-over-pro-ring} we would really like to have a description of $\Sp_{K(n)}$ and $\Sp_{T(n)}$ via certain contramodules over their respective units, which are the $K(n)$-local and $T(n)$-local spheres respectively. These spheres are both naturally $\E_\infty$-algebras in $\Pro(\Sp_n^\omega)$ and $\Pro(\Sp_n^{f, \omega})$ respectively, hence a natural starting point is to take advantage of this fact. We will investigate this in joint work with Florian Riedel. 
\end{remark}

\subsubsection*{Derived completion}
\label{ch2:ssec:derived-completion}

Let $R$ be a commutative noetherian ring and $I\subseteq R$ an ideal generated by a finite regular sequence. The $I$-adic completion functor $C^I\: \Mod_R \to \Mod_R$, defined by $C^I(M)=\lim_k M/I^k$ is neither a left, nor right exact functor. However, by \cite[5.1]{greenlees-may_92} the higher right derived functors vanish. We denote the higher left derived functors of $C^I$ by $L^I_i$. An $R$-module $M$ is said to be \emph{$I$-adically complete}\index{$I$-adically complete module} if the natural map $M\to C^I (M)$ is an isomorphism. It is said to be \emph{$L$-complete}\index{$L$-complete module} if the natural map $M\to L_0^I(M)$ is an isomorphism. 

The map $M\to C^I(M)$ factors through $L_0^I(M)$, and the map $L_0^I(M)\to C^I(M)$ is always an epimorphism, but usually not an isomorphism. The full subcategory consisting of the $L$-complete modules form an abelian category $\Mod_R^{I-comp}$. The full subcategory of $I$-adically complete modules, $\Mod_R^\wedge$ is usually not abelian. 

The $I$-power torsion submodule of an $R$-module $M$ is defined to be 
\[T_I(M) := \{m \in M \mid I^k m = 0 \text{ for some } k\geq 0\}.\]
We say an $R$-module $M$ is $I$-power torsion\index{I-power torsion!Module} if the natural map $T_I(M) \to M$ is an isomorphism. The full subcategory of $I$-power torsion $R$-modules form a Grothendieck abelian category, denoted $\Mod_R^{I-tors}$. 

The object $R/I$ is compact in $\Der(R)$, which is a rigidly compactly generated symmetric monoidal stable $\infty$-category\index{Compactly generated!Rigid}. Hence, $(\Der(R), R/I)$ is a local duality context. The category $\Der(R)^{R/I-tors}$ is by \cite[3.7(2)]{barthel-heard-valenzuela_2020} equivalent to $\Der(\Mod_R^{I-tors})$, the derived category $I$-power torsion modules. The category $\Der(R)^{R/I-comp}$ is by \cite[3.7(1)]{barthel-heard-valenzuela_2020} equivalent to the right completion of the derived category of $\Mod_R^{I-comp}$. 

The functors $\Gamma$ and $\Lambda$ coming from this local duality context can by \cite[3.16]{barthel-heard-valenzuela_2018} be identified with the total right derived functor $\mathbb{R}T_I$ and the total left derived functor $\mathbb{L}C^I$ respectively. By \cref{ch2:thm:Positselski-duality-idempotent} we know that these are the cofree comodule functor and the free contramodule functor, hence we can conclude with the following. 

\begin{proposition}
    There are symmetric monoidal equivalences
    \[\Der(R)^{R/I-tors}\simeq \Der(\Mod_R^{I-tors})\simeq \Comod_{\mathbb{R}T_I(R)}\]
    and 
    \[\Der(R)^{R/I-comp}\simeq \Der(\Mod_R^{I-comp})\simeq \Contra_{\mathbb{R}T_I(R)}\]
\end{proposition}

Interestingly, there are also descriptions of the category $\Mod_R^{I-comp}$ as a category of contramodules, and $\Mod_R^{I-tors}$ as a category of comodules. This makes the above example into an example of the derived co-contra-correspondence, see for example \cite{positselski_2016}. 

As for the $K(n)$-local case described above, the equivalences
\[\Der(R)^{R/I-comp}\simeq \Der(\Mod_R^{I-comp})\simeq \Contra_{\mathbb{R}T_I(R)}\]
is somewhat unsatisfactory, as we would really like to have equivalences 
\[\Der(R)^{R/I-comp}\simeq \Der(\Mod_R^{I-comp})\simeq \Contra_{\mathbb{L}C^I(R)}\]
instead. We hope that the before-mentioned future joint work with Florian Riedel will shed some light on this, hopefully giving such an equivalence.  